(function(p,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(p=typeof globalThis<"u"?globalThis:p||self,e(p.TedirDropZone={},p.Vue))})(this,function(p,e){"use strict";typeof SuppressedError=="function"&&SuppressedError;var m=function(a){a===void 0&&(a=0);var n="",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o=String(JSON.parse(new Date().toJSON().replace(/-|T|Z|:|\./g,"")));Number(a)>=1&&(n+=String(Number(a)+1));for(var d=0;d<o.length;d++)n+=t.charAt(Math.floor(Math.random()*t.length)),n+=o.charAt(d);return n};const w={class:"dropZone"},Z=["id","accept"],y=["onDrop"],B=["for"],E=[e.createStaticVNode('<svg width="10em" height="10em" viewBox="0 0 16 12" class="dropZoneImage" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-v-80aea37e><path fill-rule="evenodd" d="m 8.0274054,0.49415269 a 5.53,5.53 0 0 0 -3.594,1.34200001 c -0.766,0.66 -1.321,1.52 -1.464,2.383 -1.676,0.37 -2.94199993,1.83 -2.94199993,3.593 0,2.048 1.70799993,3.6820003 3.78099993,3.6820003 h 8.9059996 c 1.815,0 3.313,-1.43 3.313,-3.2270003 0,-1.636 -1.242,-2.969 -2.834,-3.194 -0.243,-2.58 -2.476,-4.57900001 -5.1659996,-4.57900001 z m 2.3539996,5.14600001 -1.9999996,-2 a 0.5,0.5 0 0 0 -0.708,0 l -2,2 a 0.5006316,0.5006316 0 1 0 0.708,0.708 l 1.146,-1.147 v 3.793 a 0.5,0.5 0 0 0 1,0 v -3.793 l 1.146,1.147 a 0.5006316,0.5006316 0 0 0 0.7079996,-0.708 z" data-v-80aea37e></path></svg><div class="dropZoneBody" data-v-80aea37e><p data-v-80aea37e><strong class="dropZoneTitle fg-inherit" data-v-80aea37e>Drag and drop files to upload</strong></p><p data-v-80aea37e><small class="dropZoneText" data-v-80aea37e>Your files will be added automatically</small></p><button type="button" class="button" data-v-80aea37e>or select files</button></div>',2)],v=e.defineComponent({__name:"DropZone",props:{modelValue:{default:[]},accept:{default:"*"},base64:{type:Boolean,default:!1},uniqid:{type:Boolean,default:!1}},emits:["update:modelValue","handler"],setup(a,{emit:n}){const t=a,o=e.ref(t.modelValue||[]),d=e.ref(null),u=m(),f=i=>{const r=i.target.files||i.dataTransfer.files||d.value.files;for(let s=0;s<r.length;s++){const l=r[s];if(t.uniqid&&(l.uniqid=m()),t.base64){const c=new FileReader;c.onload=()=>{l.base64=c.result},c.readAsDataURL(l)}o.value.unshift(l)}n("update:modelValue",o.value),n("handler",o.value)};return(i,r)=>(e.openBlock(),e.createElementBlock("div",w,[e.createElementVNode("input",{type:"file",id:"dropZoneFile-"+e.unref(u),class:"dropZoneFile",ref_key:"dropZoneFile",ref:d,onChange:f,multiple:"",accept:a.accept},null,40,Z),e.createElementVNode("div",{class:"dropZoneWrap",onDragenter:r[0]||(r[0]=e.withModifiers(()=>{},["prevent"])),onDragover:r[1]||(r[1]=e.withModifiers(()=>{},["prevent"])),onDrop:e.withModifiers(f,["prevent"])},[e.createElementVNode("label",{for:"dropZoneFile-"+e.unref(u),class:"dropZoneLabel"},E,8,B)],40,y)]))}}),Y="",b=(a,n)=>{const t=a.__vccOpts||a;for(const[o,d]of n)t[o]=d;return t},D=b(v,[["__scopeId","data-v-80aea37e"]]),g=a=>(e.pushScopeId("data-v-3cc29069"),a=a(),e.popScopeId(),a),F={class:"dropZone tedirThumbnail"},N=["id"],S=["onDrop"],T=["for"],x=["src"],k=["width","height"],M=[g(()=>e.createElementVNode("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"},null,-1)),g(()=>e.createElementVNode("path",{d:"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"},null,-1))],I={class:"dropZoneBody"},$=g(()=>e.createElementVNode("p",null,[e.createElementVNode("strong",{class:"dropZoneTitle"},"Drag and drop thumbnail")],-1)),A=g(()=>e.createElementVNode("p",null,[e.createElementVNode("small",{class:"dropZoneText"},"Your thumbnail will be shown here")],-1)),q={type:"button",class:"button"},L=e.defineComponent({__name:"ThumbBox",props:{modelValue:{default:""},iconSize:{default:"10em"},showButton:{type:Boolean,default:!0},type:{default:"both"}},emits:["update:modelValue","handler"],setup(a,{emit:n}){var i,r;const t=a,o=e.ref(""),d=e.ref(null),u=m();if(typeof t.modelValue=="string")o.value=t.modelValue;else if(typeof t.modelValue=="object"&&((i=t.modelValue)==null?void 0:i.base64))o.value=t.modelValue.base64;else if(typeof t.modelValue=="object"&&((r=t.modelValue)==null?void 0:r.name)){const s=new FileReader;s.onload=function(){const l=s.result;o.value=String(l)},s.readAsDataURL(t.modelValue)}const f=s=>{const l=s.target.files||s.dataTransfer.files||d.value.files;for(let c=0;c<l.length;c++){const h=l[c],V=new FileReader;V.onload=()=>{const _=V.result;t.type==="base64"?(o.value=String(_),n("update:modelValue",_),n("handler",_)):t.type==="file"?(o.value=String(_),n("update:modelValue",h),n("handler",h)):(h.base64=_,o.value=String(h.base64),n("update:modelValue",h),n("handler",h))},V.readAsDataURL(h)}};return(s,l)=>(e.openBlock(),e.createElementBlock("div",F,[e.createElementVNode("input",{type:"file",id:"dropZoneThumbnail-"+e.unref(u),class:"dropZoneFile",ref_key:"dropZoneFile",ref:d,onChange:f,accept:"image/*"},null,40,N),e.createElementVNode("div",{class:"dropZoneWrap",onDragenter:l[0]||(l[0]=e.withModifiers(()=>{},["prevent"])),onDragover:l[1]||(l[1]=e.withModifiers(()=>{},["prevent"])),onDrop:e.withModifiers(f,["prevent"])},[e.createElementVNode("label",{for:"dropZoneThumbnail-"+e.unref(u),class:e.normalizeClass(["dropZoneLabel",o.value?"tedirThumbnailLabel":""])},[o.value?(e.openBlock(),e.createElementBlock("img",{key:0,src:o.value,class:"tedirThumbnailImage",alt:"Thumbnail"},null,8,x)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:a.iconSize,height:a.iconSize,fill:"currentColor",class:"dropZoneImage my-10px",viewBox:"0 0 16 16"},M,8,k)),e.createElementVNode("div",I,[$,A,e.withDirectives(e.createElementVNode("button",q,"or select thumbnail",512),[[e.vShow,a.showButton]])])],64))],10,T)],40,S)]))}}),H="",z=b(L,[["__scopeId","data-v-3cc29069"]]),C={class:"dropZone tedirAttach"},R=["id","multiple","accept"],j=["onDrop"],O=["for"],U=e.defineComponent({__name:"AttachBox",props:{modelValue:{default:[]},accept:{default:"*"},base64:{type:Boolean,default:!1},uniqid:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0}},emits:["update:modelValue","handler"],setup(a,{emit:n}){const t=a,o=e.ref(t.modelValue||[]),d=e.ref(null),u=m();e.watch(()=>t.modelValue,()=>{o.value=t.modelValue});const f=i=>{const r=i.target.files||i.dataTransfer.files||d.value.files;for(let s=0;s<r.length;s++){const l=r[s];if(t.uniqid&&(l.uniqid=m()),t.base64){const c=new FileReader;c.onload=()=>{l.base64=c.result},c.readAsDataURL(l)}o.value.unshift(l)}n("update:modelValue",o.value),n("handler",o.value)};return(i,r)=>(e.openBlock(),e.createElementBlock("div",C,[e.createElementVNode("input",{type:"file",id:"dropZoneFile-"+e.unref(u),class:"dropZoneFile",ref_key:"dropZoneFile",ref:d,onChange:f,multiple:a.multiple,accept:a.accept},null,40,R),e.createElementVNode("div",{class:"dropZoneWrap",onDragenter:r[0]||(r[0]=e.withModifiers(()=>{},["prevent"])),onDragover:r[1]||(r[1]=e.withModifiers(()=>{},["prevent"])),onDrop:e.withModifiers(f,["prevent"])},[e.createElementVNode("label",{for:"dropZoneFile-"+e.unref(u),class:"dropZoneLabel tedirAttachLabel"},[e.renderSlot(i.$slots,"default",{},void 0,!0)],8,O)],40,j)]))}}),K="",W=b(U,[["__scopeId","data-v-6e404a6d"]]);p.AttachBox=W,p.DropZone=D,p.ThumbBox=z,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
